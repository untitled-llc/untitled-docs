---
id: environments
title: Canopy Environments
sidebar_label: Environments
slug: /canopy/environments
---

### AWS

> **region:** us-east-2

--- 
### Amplify
[https://github.com/Canopy-Certified-Inc/portal-front-end](https://github.com/Canopy-Certified-Inc/portal-front-end)

#### Master Environment

:::note 
This will rebuild if you merge any changes into the `master` or `main` branch
:::

##### Front End
[https://portal.canopyky.org/login](https://portal.canopyky.org/login)

> CI/CD - please see above warning.
> 
> Checkout [Getting Started](/docs/canopy/getting-started) for more info!

##### Back End

###### Cognito
- **User Pools**
  - **Resource name:** `canopyUsers-src`
###### DynamoDB
- **Tables**
  - `Cognito-users`
    - User and status information
  - `forms-src`
    - Holds each companies form and the version of the form entry
  - `forms-points`
    - Holds point values for all forms that allow points
###### Lambdas
- `Cognito_to_dynamodb`
  - Adds to conginto users in dynamo. Adds them to cognito pool. Creates salesforce account.
- `modify_contacts`
  - Add, delete, or modify the users on the cognito users table in
    dynamo and updates to cognito pool
  - **Note:** deletion is just a flag in dynamo db. We do not delete
    user data.
- `canopyUsersPostConfirmation-src`
  - Autogenerated from amplify.
  - Hit after authorization to trigger `Cognito_to_dynamodb` lambda.
- `Attachment_files_dynamo_to_s3`
  - After the forms enter dynamo this grabs list of forms attachments and put that in s3
- `preSignup`
  - On signup check if company exists in dynamo first. If so
    then throw an error. 
- `points_table`
  - Hit by all forms with points. Adds up total points and checks for
    imporovement points. Adds this to the `forms-points` table in Dynamo
- `track_learning_modules_progress`
  - Hit when someone submits a learning module form and updates that
    users learning module progress in the Cognito users table.

#### Development Environment

:::note
This will rebuild if you merge any changes into the `dev` branch
:::

#### Front End [https://dev.d2yyb34ilmrjls.amplifyapp.com/](https://dev.d2yyb34ilmrjls.amplifyapp.com/)

> CI/CD - please see above warning.
>
> Checkout [Getting Started](/docs/canopy/getting-started) for more info!

#### Back End

###### Cognito
  - **User Pools:**
    - **Resource name:** `canopyUsers-dev`
###### Dynamo
- **Tables**
  - `Cognito-users-dev`
  - `forms-dev`
###### Lambdas
- `Cognito_to_dynamodb_dev`
- `preSignup`
- `canopyUsersPostConfirmation-dev`

---

### AppSync

#### prod
  - User API: `portalUsers`

#### dev
  - User API: `portalUsers-dev`


---

### Route53

> This is the Domain Registrar

---

### CloudWatch

> Log groups can be found here:
>
> https://us-east-2.console.aws.amazon.com/cloudwatch/home?region=us-east-2#logsV2:log-groups

---

### IAM

> ?
 
---

### API Gateway

#### Gateways

- `FormAssembly_Con`
  - `/cognito-users`
  - `/forms`
  - `/points`
- `DynamoFrontend`

---

### S3

#### Learning Modules
- `canopy-web-content`

#### Form Attachments
- `canopy-form-attachments122159-src`

---

### Salesforce

- Accounts
- Contacts
- Initial Onboarding Forms
- Minimum Requirements
- Yearly Requirements
- Elective Pools
- Self Reportings
- Canopy Culture Surveys
- Learning Modules
- Orientation First Login

---

### FormAssembly

#### Forms
- Base forms
- Read-only forms
- Learning Modules

